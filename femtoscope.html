<!DOCTYPE HTML>
<html>

<head>
	<link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100..700&display=swap" rel="stylesheet">
    <link href="femtoscope.css" rel="stylesheet">
    <title> ⚡ femtoscope ⚡ </title>
</head>

<body>

    <div id="no-serial">

        <p> serial API is not enabled on this browser. to enable it: <br><br>

                make sure you're using an updated version of chrome <br>
                type "chrome://flags" into your search bar <br>
                search for and enable the following flag: #enable-experimental-web-platform-features
        </p>

        <button id="no-serial-continue"> continue </button>

        <script type="text/javascript" src="scripts/noserialwarning.js"> </script>
    </div>

    <canvas width=1 height=1 id="graphjs"> </canvas>

    <div id="divider"> </div>

    <div id="control-panel">
        
        <h1 style="margin-bottom: 1rem;"> femto<strong>scope</strong> </h1>

        <button id="connect"> connect to serial 🔌 </button>

        <button id="fft"> show frequency spectrum 🎵 </button>

        <button id="fit-data"> fit to data 📈 </button>

        <div class="stats">

        	<h2 style="grid-column-start: 1; grid-column-end: 4; margin-bottom: 0.3rem;"> waveform info </h2>

            <div class="left">
                <p> max </p>
                <p> min </p>
                <p> peak to peak </p>
                <p> rms </p>
                <p> dc average </p>
                <p> frequency</p>
            </div>

            <div class="right">
                <p id="max-stat"> - </p>
                <p id="min-stat"> - </p>
                <p id="peak-to-peak-stat"> - </p>
                <p id="rms-stat"> - </p>
                <p id="dc-average-stat"> - </p>
                <p id="frequency-stat"> - </p>
            </div>
        </div>

        <button id="add-ruler"> add a ruler 📏 </button>

        <div class="stats">

        	<h2 style="grid-column-start: 1; grid-column-end: 4; margin-bottom: 0.3rem;"> ruler info </h2>

            <div class="left">
            	<p> start </p>
            	<p> end </p>
                <p> dx </p>
                <p> dy </p>
                <p> length </p>
                <p> gradient </p>
            </div>

            <div class="right">
            	<p id="start-stat"> - </p>
            	<p id="end-stat"> - </p>
                <p id="dx-stat"> - </p>
                <p id="dy-stat"> - </p>
                <p id="length-stat"> - </p>
                <p id="gradient-stat"> - </p>
            </div>
        </div>

        <div id="settings">

            <h2 style="grid-column-start: 1; grid-column-end: 4; margin-bottom: 0.3rem;"> sampling settings </h2>

            <div class="left">
                <p> sample count </p>
                <p> voltage range </p>
                <!-- <p> sample rate </p> -->
            </div>

            <div class="right">
                <input id="sample-count" style="grid-column-start: 1; grid-column-end: 4;" type="number" value="2048"> </input>
                <input id="voltage-range-min" style="grid-column: 1; width: 6rem;" type="number" value="0"> </input>
                <p style="grid-column: 2; padding: 0 0.5rem;"> - </p>
                <input id="voltage-range-max" style="grid-column: 3; width: 6rem;" type="number" value="3.3"> </input>
                <!-- <p id="sample-rate" style="grid-column-start: 1; grid-column-end: 4;"> - </p> -->
            </div>
        </div>
    
    </div>

    <script type="text/javascript" src="../graph.js/vec2.js"> </script>
    <script type="text/javascript" src="../graph.js/graph.js"> </script>
    <script type="text/javascript" src="../minfft.js/minfft.js"> </script>

    <script type="text/javascript" src="scripts/samplingsettings.js"> </script>
    <script type="text/javascript" src="scripts/serialconnection.js"> </script>
    <script type="text/javascript" src="scripts/femtoscope.js"> </script>
    <script type="text/javascript" src="scripts/ruler.js"> </script>
    <script type="text/javascript" src="scripts/divider.js"> </script>
    <script type="text/javascript" src="scripts/fitgraphdata.js"> </script>
    <script type="text/javascript" src="scripts/fftbutton.js"> </script>
    <script type="text/javascript" src="scripts/updatestats.js"> </script>
</body>

</html>